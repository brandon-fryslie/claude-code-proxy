# Definition of Done: Model Filter Dropdown

**Generated**: 2025-12-24-223454
**Plan**: PLAN-2025-12-24-223454.md
**Epic**: brandon-fryslie_claude-code-proxy-jx0

---

## Sprint Scope

This sprint delivers: **Model filter dropdown with API integration**
Deferred: Endpoint filtering (can add later), advanced multi-select filters, saved filter presets

---

## Acceptance Criteria

### Model Filter Dropdown UI

- [ ] Dropdown renders with options: "All Models", "Opus", "Sonnet", "Haiku"
- [ ] Selecting a model updates the request list to show only matching requests
- [ ] Selected filter displayed in dropdown (e.g., "Opus" selected shows "Opus" in button)
- [ ] Dropdown styled consistent with existing dashboard components (matches search input style)
- [ ] Unit test: Selecting model triggers filter update

### Wire to API Calls

- [ ] `useRequestsSummary` hook accepts `model` parameter (optional)
- [ ] When model filter selected, API call includes `?model=<model>` query param
- [ ] Backend returns only requests matching the model filter
- [ ] Client-side filtering removed (rely on backend filtering for performance)
- [ ] TanStack Query cache invalidates when model filter changes

### Endpoint Filter (Optional - P2)

- [ ] Dropdown renders with options: "All Endpoints", "/v1/messages", "/v1/models", etc.
- [ ] Selecting endpoint filters request list to show only matching requests
- [ ] Multiple filters work together (model + endpoint combine with AND logic)
- [ ] Endpoint filter persisted alongside model filter
- [ ] Backend supports `endpoint` query parameter OR client-side fallback works

---

## Integration Verification

- [ ] Model filter works with date navigation (filters apply to selected date)
- [ ] Model filter works with search (both active simultaneously)
- [ ] Filter state persists in URL params (shareable links)
- [ ] Clearing filter restores full request list
- [ ] Filter dropdown accessible via keyboard (Tab, Enter, Arrow keys)

---

## Quality Gates

- [ ] All unit tests pass
- [ ] No TypeScript errors
- [ ] No console errors when changing filters
- [ ] Manual testing with various model types shows correct filtering
- [ ] Code review completed and approved
- [ ] Backend API verified to support model filtering (or fallback implemented)

---

## User Experience Verification

- [ ] Filter dropdown visually indicates selected state
- [ ] Loading state shown while fetching filtered results
- [ ] Empty state message shown when no requests match filter
- [ ] Filter selection feels instant (<200ms response)
- [ ] Filter controls are discoverable (obvious where to find them)
