# User Response: Playwright Test Fixes Plan

**Generated:** 2026-01-11 05:43:00
**Status:** APPROVED

---

## Approval

**Decision:** APPROVED

The user (via main context) has approved this plan for implementation.

---

## Plan Summary

**Topic:** Fix all failing Playwright e2e tests in the dashboard

**Files Approved:**
- EVALUATION-20260111_054300.md - Current state analysis
- PLAN-20260111_054300.md - Sprint plan with work items
- DOD-20260111_054300.md - Acceptance criteria

**Scope Approved:**
1. Fix 6 networkidle timeout failures (replace with domcontentloaded)
2. Fix 1 accessibility label failure (add aria-labels to icon-only buttons)
3. Update test helper patterns
4. Update TESTING.md documentation

**Target:** 33/33 tests passing (100% pass rate)

**Estimated Time:** 1-2 hours

**Complexity:** LOW (mechanical changes, clear solutions)

---

## Key Changes Approved

### Test Files
- `dashboard/e2e/accessibility.spec.ts` - Replace networkidle at lines 17, 29, 46
- `dashboard/e2e/helpers.ts` - Update waitForDashboardLoad(), add waitForAPIResponse()
- `dashboard/e2e/dashboard.spec.ts` - Replace networkidle at lines 13, 17, 43, 51
- `dashboard/e2e/requests.spec.ts` - Replace networkidle at line 44
- `dashboard/e2e/usage.spec.ts` - Replace networkidle at lines 10, 17, 36, 44, 57
- `dashboard/e2e/navigation.spec.ts` - Optional consistency update at line 8

### Component Files
- `dashboard/src/components/layout/Sidebar.tsx` - Add aria-label to collapse button
- `dashboard/src/components/layout/GlobalDatePicker.tsx` - Add 4 aria-labels
- `dashboard/src/components/charts/DateNavigation.tsx` - Add 2 aria-labels
- `dashboard/src/components/ui/CodeViewer.tsx` - Add 3 aria-labels
- `dashboard/src/components/ui/ImageContent.tsx` - Add 4 aria-labels

### Documentation
- `dashboard/TESTING.md` - Update test status, add test patterns section

---

## Next Steps

**Immediate:** Proceed to implementation using `/do:it` workflow

**Implementation Order:**
1. Update helpers.ts (foundation)
2. Fix test files (mechanical changes)
3. Add aria-labels to components (test after each)
4. Update documentation (final step)

**Verification:**
- Run tests after each change
- Full test suite must pass (33/33)
- Stability test (3 consecutive runs)
- Manual UI testing for regressions

---

**Approval Timestamp:** 2026-01-11 05:45:00
**Ready for Implementation:** YES
